<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Our Faculty | Gyanodaya Public School</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Inter:wght@400;500&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
  <header></header>
  <main id="siteContent">
    <section class="section">
      <div style="text-align:center; margin-bottom:50px;">
        <h1 style="font-family:'Outfit', sans-serif; color:var(--primary); font-size:42px;">Our Expert Faculty</h1>
        <p style="color:var(--text-muted); font-size:16px;">Dedicated educators shaping the winners of tomorrow.</p>
      </div>

      <div id="facultyList" class="grid"
        style="display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:30px;">
        <!-- Dynamic -->
      </div>
    </section>
  </main>

  <footer id="footer"></footer>
  <script src="script.js"></script>
  <script>
    async function fetchFaculty() {
      try {
        const res = await fetch('/api/people?type=faculty');
        const data = await res.json();
        const container = document.getElementById('facultyList');
        container.innerHTML = '';

        if (!data || data.length === 0) {
          container.innerHTML = '<p style="grid-column: 1/-1; text-align:center;">Information coming soon.</p>';
          return;
        }

        data.forEach(item => {
          const card = document.createElement('div');
          card.className = 'card faculty-card';
          card.style.textAlign = 'center';
          card.style.padding = '0';
          card.style.overflow = 'hidden';

          card.innerHTML = `
                        <div style="height:300px; overflow:hidden;">
                            <img src="${item.photo || 'https://via.placeholder.com/300x300'}" style="width:100%; height:100%; object-fit:cover;">
                        </div>
                        <div style="padding:25px;">
                            <h3 style="margin-bottom:5px;">${item.name}</h3>
                            <p style="color:var(--primary); font-weight:700; font-size:14px; margin-bottom:10px; text-transform:uppercase;">${item.designation}</p>
                            <p style="font-size:13px; color:var(--text-muted);">${item.qualification || ""}</p>
                            ${item.experience ? `<p style="font-size:13px; color:var(--text-muted); margin-top:5px;">Exp: ${item.experience}</p>` : ""}
                        </div>
                    `;
          container.appendChild(card);
        });
      } catch (error) { console.error(error); }
    }
    document.addEventListener('DOMContentLoaded', fetchFaculty);
  </script>
</body>

</html>